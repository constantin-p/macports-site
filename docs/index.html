<!DOCTYPE html>
<html>
  <head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Docs</title>

  
  <link rel="stylesheet" href="https://constantin-p.github.io/macports-site/css/main.css">

</head>
  <body>

    

  



<header class="dark">
  <nav class="container">

    <a class="brand" href="https://constantin-p.github.io/macports-site/" title="The MacPorts Project">
      
        <img src="https://constantin-p.github.io/macports-site/assets/logo-inverse.svg" height="22" alt="Mac Ports">
      
    </a>

    <label for="menu-toggle">Menu</label>
    <input type="checkbox" id="menu-toggle">
    <ul>
      
      
        
        <li class="">
          
            <a href="/macports-site/getting-started/">Getting Started</a>
          
        </li>
      
        
        <li class="active">
          
            <a href="/macports-site/docs/">Documentation</a>
          
        </li>
      
        
        <li class="">
          
            <a href="https://www.macports.org/ports.php">Available ports</a>
          
        </li>
      
        
        <li class="">
          
            <a href="https://github.com/macports/macports-base/releases/tag/v2.5.4">Downloads</a>
          
        </li>
      
        
        <li class="has-sublist ">
          
            <a role="button" tabindex="0">Support</a>
            <div class="sublist">
              <ul class="container">
                
                  <li class="">
                    <a href="https://guide.macports.org/#project.tickets">Bug Reporting</a>
                  </li>
                
                  <li class="">
                    <a href="/macports-site/support/contact-us/">Contact Us</a>
                  </li>
                
                  <li class="">
                    <a href="https://trac.macports.org/wiki/MacPortsDevelopers">Team</a>
                  </li>
                
                  <li class="">
                    <a href="https://trac.macports.org/wiki/FAQ">FAQ</a>
                  </li>
                
              </ul>
            </div>
          
        </li>
      
        
        <li class="">
          
            <a href="/macports-site/news/">News</a>
          
        </li>
      
    </ul>
  </nav>
</header>


  <main>
    <div class="container">
      <div class="columns">
        <nav class="sidebar">
          <ul class="nav-chapters">

  
  

    
    

    
      <li>
        <a href="#macports-site.docs.introduction">Introduction</a>
      </li>
    
  

    
    

    
      <li class="has-sublist">
        <a href="#macports-site.docs.installing">Installing Macports</a>
        <ul class="nav-sections">
  
  
  

    
    

    <li>
      <a href="#macports-site.docs.installing.xcode">Install Xcode</a>
    </li>
  

    
    

    <li>
      <a href="#macports-site.docs.installing.macports">Install MacPorts</a>
    </li>
  

    
    

    <li>
      <a href="#macports-site.docs.installing.macports.upgrade">MacPorts Upgrade</a>
    </li>
  

    
    

    <li>
      <a href="#macports-site.docs.installing.macports.uninstalling">Uninstall</a>
    </li>
  

    
    

    <li>
      <a href="#macports-site.docs.installing.shell">MacPorts and the Shell</a>
    </li>
  

</ul>
      </li>
    
  

    
    

    
      <li>
        <a href="#macports-site.docs.using">Using MacPorts</a>
      </li>
    
  

    
    

    
      <li>
        <a href="#macports-site.docs.development">Portfile Development</a>
      </li>
    
  

    
    

    
      <li>
        <a href="#macports-site.docs.reference">Portfile Reference</a>
      </li>
    
  

    
    

    
      <li>
        <a href="#macports-site.docs.internals">MacPorts Internals</a>
      </li>
    
  

    
    

    
      <li>
        <a href="#macports-site.docs.guide-terms">MacPorts Guide Glossary</a>
      </li>
    
  

    
    

    
      <li>
        <a href="#macports-site.docs.project">MacPorts Project</a>
      </li>
    
  
  
</ul>
        </nav>

        <div class="content">
          <div class="doc-chapters">

  
  

    
    

    <a href="#macports-site.docs.introduction" class="h1">
      <h1>Introduction</h1>
      <span class="anchor-target" id="macports-site.docs.introduction"></span>
    </a>

    <p>MacPorts is an easy to use system for compiling, installing, and managing open source software. MacPorts may be conceptually divided into two main parts: the infrastructure, known as MacPorts base, and the set of available ports.</p>

<p>A MacPorts port is a set of specifications contained in a <a href="https://guide.macports.org/#development.introduction">Portfile</a> that defines an application, its characteristics, and any files or special instructions required to install it. This allows you to use a single command to tell MacPorts to automatically download, compile, and install applications and libraries. But using MacPorts to manage your open source software provides several other significant advantages.</p>

<p>For example, MacPorts:</p>

<ul>
<li>Installs automatically any required support software, known as <a href="https://guide.macports.org/#reference.dependencies">dependencies</a>, for a given port.</li>
<li>Provides for uninstalls and upgrades for installed ports.</li>
<li>Confines ported software to a private “sandbox” that keeps it from intermingling with your operating system and its vendor-supplied software to prevent them from becoming corrupted.</li>
<li>Allows you to create pre-compiled binary installers of ported applications to quickly install software on remote computers without compiling from source code.</li>
</ul>

<p>MacPorts is developed on macOS, though it is designed to be portable so it can work on other Unix-like systems, especially those descended from the Berkeley Software Distribution (BSD). In practice, installing ports only works on macOS. MacPorts base can be compiled on Linux (and possibly other POSIX-compatible systems) where it is mainly used to set up mirrors and generate support files for installations on macOS.</p>

<p>The following notational conventions are used in the MacPorts Guide to distinguish between terminal input/output, file text, and other special text types.</p>

<ul>
<li><p>Terminal I/O and file text:
<pre class="docs-shell-in"><code>Commands to be typed into a terminal window.</code></pre>

<pre class="docs-shell-out"><code>Command output to a terminal window.</code></pre>

<pre class="docs-shell-content"><code>File text.</code></pre></p></li>

<li><p>Other special text types:</p>

<ul>
<li>A hyperlink: <a href="https://en.wikipedia.org/wiki/Spontaneous_combustion">spontaneous combustion</a>.</li>
<li>A file: <code class="docs-path">/var/log/system.log</code>.</li>
<li>A command: <code class="docs-command">ifconfig</code>.</li>
<li>An option: port <code class="docs-option">install</code>.</li>
</ul></li>
</ul>

    
  

    
    

    <a href="#macports-site.docs.installing" class="h1">
      <h1>Installing Macports</h1>
      <span class="anchor-target" id="macports-site.docs.installing"></span>
    </a>

    <p>This chapter shows you how to install MacPorts and its prerequisites step-by-step. Note that the section about <a href="https://guide.macports.org/#installing.xcode">installing Xcode</a> is macOS-specific. If you wish to install MacPorts on another platform, first make sure you have a working C compiler installed, skip ahead to <a href="https://guide.macports.org/#installing.macports.source">installing MacPorts from source</a>, and continue to the end of the chapter.</p>

    
      <div class="doc-sections">
  
  
  

    
    

    <a href="#macports-site.docs.installing.xcode" class="h2">
      <h2>Install Xcode</h2>
      <span class="anchor-target" id="macports-site.docs.installing.xcode"></span>
    </a>

    <p><a href="https://developer.apple.com/xcode/">Xcode</a> is a package provided by Apple containing compilers, libraries and additional tools required to develop applications for macOS.</p>

<blockquote>
<p>Always make sure to install the latest available version of Xcode for your macOS release; using outdated versions of Xcode may cause port install failures. Also note that Xcode is not updated via OS X&rsquo;s Software Update utility on OS versions prior to 10.6, and is updated via the Mac App Store starting with 10.7.</p>
</blockquote>

<p>Follow the instructions for your version of macOS:</p>

    
      <div class="doc-subsections">
  
  
  

    
    

    <a href="#macports-site.docs.installing.xcode.mavericks" class="h3">
      <h3>Install Xcode on OS X 10.9 or Later</h3>
      <span class="anchor-target" id="macports-site.docs.installing.xcode.mavericks"></span>
    </a>

    <p>Download the latest version of Xcode from the <a href="https://developer.apple.com/downloads/index.action">Apple developer website</a> or get it using the <a href="https://itunes.apple.com/us/app/xcode/id497799835">Mac App Store</a>.</p>

<p>Once you have Xcode installed, open a terminal, run <code class="docs-command">xcode-select --install</code>, and click the Install button to install the required command line developer tools. Don&rsquo;t worry if you see a message telling you the software cannot be installed because it is not currently available from the Software Update Server. This usually means you already have the latest version installed. You can also get the command line tools from the <a href="https://developer.apple.com/downloads/index.action">Apple developer website</a>.</p>

  

    
    

    <a href="#macports-site.docs.installing.xcode.lion" class="h3">
      <h3>Install Xcode on OS X 10.7 Lion or OS X 10.8 Mountain Lion</h3>
      <span class="anchor-target" id="macports-site.docs.installing.xcode.lion"></span>
    </a>

    <p>Download the latest version of Xcode from the <a href="https://developer.apple.com/downloads/index.action">Apple developer website</a> or get it using the <a href="https://itunes.apple.com/us/app/xcode/id497799835">Mac App Store</a>.</p>

<p>Xcode 4.3 and later do not automatically install the command line tools, but MacPorts requires them. To install them, open the Xcode application, go to the Preferences window, to the Downloads section, and click the Install button next to Command Line Tools. Be sure to return to this window after every Xcode upgrade to ensure that the command line tools are also upgraded.</p>

<p>If you wish to create Installer packages with <code class="docs-command">port pkg</code>, you will also need to install PackageMaker, which is in the “Auxiliary Tools for Xcode” package as of Xcode 4.3. The download page for this package can be opened via the Xcode -&gt; Open Developer Tool -&gt; More Developer Tools&hellip; menu item. After downloading and mounting the disk image, drag the PackageMaker application to your <code class="docs-path">/Application</code> directory.</p>

  

    
    

    <a href="#macports-site.docs.installing.xcode.snowleopard" class="h3">
      <h3>Install Xcode on Mac OS X 10.6 Snow Leopard</h3>
      <span class="anchor-target" id="macports-site.docs.installing.xcode.snowleopard"></span>
    </a>

    <p>If you are using Mac OS X 10.6, there are two branches of Xcode which could be considered to be the latest, 3.2.x and 4.x. Xcode 4 costs money, but Xcode 3 is still available free of charge. There are two options for downloading it:</p>

<ol>
<li>Xcode 3.2 - smaller download, but you will need to run Software Update after installing to get the latest version. Note that Apple might at some point discontinue providing these updates via their update servers.</li>
<li>Xcode 3.2.6 and iOS SDK 4.3 - includes the iOS SDK which is not needed for MacPorts.</li>
</ol>

<p>Both are available from the <a href="https://developer.apple.com/downloads/index.action">Apple developer website</a>. You may also be able to install Xcode 3.2 from your Mac OS X 10.6 DVD and then run Software Update to get the latest version.</p>

<p>Ensure that those of the following options that are available in the installer for your version of Xcode are selected:</p>

<ul>
<li>UNIX Development</li>
<li>System Tools</li>
<li>X11 SDK</li>
<li>Command Line Support</li>
</ul>

  

    
    

    <a href="#macports-site.docs.installing.xcode.other" class="h3">
      <h3>Install Xcode on Older Releases of Mac OS X</h3>
      <span class="anchor-target" id="macports-site.docs.installing.xcode.other"></span>
    </a>

    <p>If you have an earlier release of Mac OS X, you may download the latest version of Xcode for Mac OS X 10.5 (Xcode 3.0 and Xcode 3.1 Developer Tools) or 10.4 (Xcode 2.4.1 and Xcode 2.5 Developer Tools) from the <a href="https://developer.apple.com/downloads/index.action">Apple developer website</a>.</p>

<p>Ensure that those of the following options that are available in the installer for your version of Xcode are selected:</p>

<ul>
<li>UNIX Development</li>
<li>System Tools</li>
<li>X11 SDK</li>
<li>Command Line Support</li>
</ul>

  

</div>

    
  

    
    

    <a href="#macports-site.docs.installing.macports" class="h2">
      <h2>Install MacPorts</h2>
      <span class="anchor-target" id="macports-site.docs.installing.macports"></span>
    </a>

    <p>If you are using macOS, you should install MacPorts using the macOS package installer unless you do not wish to install it to <code class="docs-path">/opt/local/</code>, the default MacPorts location, or if you wish to install a pre-release version of MacPorts base. However, if you wish to <a href="https://guide.macports.org/#installing.macports.source.multiple">install multiple copies of MacPorts</a> or install MacPorts on another OS platform, you must <a href="https://guide.macports.org/#installing.macports.source">install MacPorts from the source code</a>.</p>

    
      <div class="doc-subsections">
  
  
  

    
    

    <a href="#macports-site.docs.installing.macports.binary" class="h3">
      <h3>macOS Package Install</h3>
      <span class="anchor-target" id="macports-site.docs.installing.macports.binary"></span>
    </a>

    <p>The macOS package installer automatically installs MacPorts, <a href="https://guide.macports.org/#installing.shell">sets the shell environment</a>, and runs a <a href="https://guide.macports.org/#using.port.selfupdate">selfupdate</a> operation to update the ports tree and MacPorts base with the latest release.</p>

<ol>
<li><p>Download the latest <code class="docs-path">MacPorts-2.5.4-....pkg</code> installer from the releases <a href="https://github.com/macports/macports-base/releases/">on GitHub</a>. Here are direct links for the latest versions of macOS:</p>

<ul>
<li><p><strong>macOS 10.14 Mojave:</strong></p>

<p><a href="https://github.com/macports/macports-base/releases/download/v2.5.4/MacPorts-2.5.4-10.14-Mojave.pkg">MacPorts-2.5.4-10.14-Mojave.pkg</a></p></li>

<li><p><strong>macOS 10.13 High Sierra:</strong></p>

<p><a href="https://github.com/macports/macports-base/releases/download/v2.5.4/MacPorts-2.5.4-10.13-HighSierra.pkg">MacPorts-2.5.4-10.13-HighSierra.pkg</a></p></li>

<li><p><strong>macOS 10.12 Sierra:</strong></p>

<p><a href="https://github.com/macports/macports-base/releases/download/v2.5.4/MacPorts-2.5.4-10.12-Sierra.pkg">MacPorts-2.5.4-10.12-Sierra.pkg</a></p></li>
</ul></li>

<li><p>Double-click the downloaded package installer to perform the default “easy” install.</p></li>

<li><p>After this step you are done already, MacPorts is now installed and your shell environment was set up automatically by the installer. To confirm the installation is working as expected, now try using <code class="docs-command">port</code> in a <em><strong>new</strong></em> terminal window.</p></li>
</ol>

<p><pre class="docs-shell-in"><code>port version</code></pre>

<pre class="docs-shell-out"><code>Version: 2.5.4</code></pre>
</p>

<p>In case of problems such as “command not found”, make sure that you opened a new terminal window or consult <a href="https://guide.macports.org/#installing.shell">Section 2.5, “MacPorts and the Shell”</a>. Otherwise, please skip the remainder of this chapter and continue with <a href="https://guide.macports.org/#using">Chapter 3, Using MacPorts</a> in this guide.</p>

  

    
    

    <a href="#macports-site.docs.installing.macports.source" class="h3">
      <h3>Source Install</h3>
      <span class="anchor-target" id="macports-site.docs.installing.macports.source"></span>
    </a>

    <p>If you installed MacPorts using the package installer, skip this section. To install MacPorts from the source code, follow the steps below.</p>

<ol>
<li>Download and extract the <a href="https://distfiles.macports.org/MacPorts/MacPorts-2.5.4.tar.bz2">MacPorts 2.5.4 tarball</a>. Either do so using your browser and the Finder, or use the given commands in a terminal window.
<pre class="docs-shell-in"><code>curl -O https://distfiles.macports.org/MacPorts/MacPorts-2.5.4.tar.bz2</code></pre>

<pre class="docs-shell-in"><code>tar xf MacPorts-2.5.4.tar.bz2</code></pre>
</li>
<li>Afterwards, perform the commands shown in the terminal window. If you wish to use a path other than <code class="docs-path">/opt/local</code>, follow the instructions for <a href="https://guide.macports.org/#installing.macports.source.multiple">installing multiple copies of MacPorts</a> instead.
<pre class="docs-shell-in"><code>cd MacPorts-2.5.4/</code></pre>

<pre class="docs-shell-in"><code>./configure</code></pre>

<pre class="docs-shell-in"><code>make</code></pre>

<pre class="docs-shell-in"><code>sudo make install</code></pre>
</li>
<li>Please continue with <a href="https://guide.macports.org/#installing.shell">Section 2.5, “MacPorts and the Shell”</a> to set up your shell environment.</li>
</ol>

  

    
    

    <a href="#macports-site.docs.installing.macports.git" class="h3">
      <h3>Git Install</h3>
      <span class="anchor-target" id="macports-site.docs.installing.macports.git"></span>
    </a>

    <p>If you installed MacPorts using the package installer, skip this section.</p>

<p>There are times when some may want to run MacPorts from a version newer than the current stable release. Maybe there&rsquo;s a new feature that you&rsquo;d like to use, or it fixes an issue you&rsquo;ve encountered, or you just like to be on the cutting edge. These steps explain how to setup MacPorts for developers, using only Git to keep MacPorts up to date.</p>

<p>Though a distinction is made between pre-release and release versions of MacPorts base, the ports collection supports no such distinction or versioning. The <a href="https://guide.macports.org/#using.port.selfupdate">selfupdate</a> command installs the latest ports tree, and updates MacPorts base to the latest released version.</p>

<ol>
<li><p>Check out MacPorts source</p>

<p>Pick a location to store a working copy of the MacPorts code. For this example, <code class="docs-path">/opt/mports</code> will be used, but you can put the source anywhere. This example will create <code class="docs-path">/opt/mports/macports-base</code> containing everything needed for MacPorts.
<pre class="docs-shell-in"><code>mkdir -p /opt/mports</code></pre>

<pre class="docs-shell-in"><code>cd /opt/mports</code></pre>

<pre class="docs-shell-in"><code>git clone https://github.com/macports/macports-base.git</code></pre>

<pre class="docs-shell-in"><code>git checkout v2.5.4  # skip this if you want to use the development version</code></pre>
</p></li>

<li><p>Build and Install MacPorts</p>

<p>MacPorts uses autoconf and makefiles for installation. These commands will build and install MacPorts to <code class="docs-path">/opt/local</code>. You can add <code class="docs-option">--prefix</code> to <code class="docs-path">./configure</code> to relocate MacPorts to another directory if needed.
<pre class="docs-shell-in"><code>cd /opt/mports/macports-base</code></pre>

<pre class="docs-shell-in"><code>./configure --enable-readline</code></pre>

<pre class="docs-shell-in"><code>make</code></pre>

<pre class="docs-shell-in"><code>sudo make install</code></pre>

<pre class="docs-shell-in"><code>make distclean</code></pre>
</p></li>

<li><p>(Optional) Configure MacPorts to use port information from Git</p>

<p>This step is useful if you want to do port development. Check out the ports tree from git:
<pre class="docs-shell-in"><code>cd /opt/mports</code></pre>

<pre class="docs-shell-in"><code>git clone https://github.com/macports/macports-ports.git</code></pre>
</p>

<p>Then open <code class="docs-path">/opt/local/etc/macports/sources.conf</code> in a text editor. The last line should look like this:<br />
<pre class="docs-shell-in"><code>rsync://rsync.macports.org/macports/release/tarballs/ports.tar [default]</code></pre>
</p>

<p>Change it to point to the working copy you checked out:
<pre class="docs-shell-in"><code>file:///opt/mports/macports-ports [default]</code></pre>
</p></li>

<li><p>Environment</p>

<p>You should setup your PATH and other environment options according to <a href="https://guide.macports.org/#installing.shell">Section 2.5, “MacPorts and the Shell”</a>.</p></li>
</ol>

  

    
    

    <a href="#macports-site.docs.installing.macports.source.multiple" class="h3">
      <h3>Install Multiple MacPorts Copies</h3>
      <span class="anchor-target" id="macports-site.docs.installing.macports.source.multiple"></span>
    </a>

    <p>Occasionally a MacPorts developer may wish to install more than one MacPorts instance on the same host. Only one copy of MacPorts may use the default prefix <code class="docs-path">/opt/local</code>, so for additional installations use the option <code class="docs-option">--prefix</code> as shown below. It&rsquo;s also recommended to change the applications dir using &ndash;with-applications-dir to avoid conflicts in <code class="docs-path">/Applications/MacPorts</code>. Use <code class="docs-option">--without-startupitems</code> to automatically set <code class="docs-option">startupitem_install</code> no in the new <code class="docs-path">macports.conf</code>, which is required to avoid conflicts in <code class="docs-path">/Library/LaunchAgents</code> or <code class="docs-path">/Library/LaunchDaemons</code>.</p>

<blockquote>
<p>The first command temporarily removes the standard MacPorts binary paths because they must not be present while installing a second instance.</p>
</blockquote>

<p><pre class="docs-shell-in"><code>export PATH=/bin:/sbin:/usr/bin:/usr/sbin</code></pre>

<pre class="docs-shell-in"><code>MP_PREFIX=/opt/macports-test</code></pre>

<pre class="docs-shell-in"><code>./configure --prefix=$MP_PREFIX --with-applications-dir=$MP_PREFIX/Applications --without-startupitems</code></pre>

<pre class="docs-shell-in"><code>make</code></pre>

<pre class="docs-shell-in"><code>sudo make install</code></pre>
</p>

  

</div>

    
  

    
    

    <a href="#macports-site.docs.installing.macports.upgrade" class="h2">
      <h2>MacPorts Upgrade</h2>
      <span class="anchor-target" id="macports-site.docs.installing.macports.upgrade"></span>
    </a>

    <p>MacPorts base upgrades are performed automatically (when a newer release is available) during a <a href="https://guide.macports.org/#using.port.selfupdate">selfupdate</a> operation. To upgrade a copy of MacPorts that was installed from source to the newer release of the source code, simply repeat the <a href="https://guide.macports.org/#installing.macports.source">source install</a> with the newer version of the MacPorts source code.</p>

    
  

    
    

    <a href="#macports-site.docs.installing.macports.uninstalling" class="h2">
      <h2>Uninstall</h2>
      <span class="anchor-target" id="macports-site.docs.installing.macports.uninstalling"></span>
    </a>

    <p>Uninstalling MacPorts can be a drastic step, and depending on the issue you are experiencing, you may not need to do so. If you are unsure, ask on the <a href="https://lists.macports.org/mailman/listinfo/macports-users">macports-users</a> mailing list first.</p>

<p>If you need to uninstall MacPorts, and <code class="docs-command">port</code> is functioning, first uninstall all the installed ports by running this command in the Terminal:</p>

<pre class="docs-shell-in"><code>sudo port -fp uninstall installed</code></pre>


<p>All that will be left in your installation prefix now will be files that were not registered to any port. This includes configuration files, databases, any files which MacPorts renamed in order to allow a forced installation or upgrade, and the base MacPorts software itself. You may wish to save your configuration files (most are in <code class="docs-path">$prefix/etc</code>), databases, or any other unique data by moving it aside.</p>

<p>To remove all remaining traces of MacPorts, run the following command in the Terminal. If you have changed <code>prefix</code>, <code>applications_dir</code> or <code>frameworks_dir</code> from their default values, then replace <code class="docs-path">/opt/local</code> with your prefix, replace <code class="docs-path">/Applications/MacPorts</code> with your <code>applications_dir</code>, and/or add your <code>frameworks_dir</code> to the list, respectively.</p>

<pre class="docs-shell-in"><code>sudo rm -rf \
        /opt/local \
        /Applications/DarwinPorts \
        /Applications/MacPorts \
        /Library/LaunchDaemons/org.macports.* \
        /Library/Receipts/DarwinPorts*.pkg \
        /Library/Receipts/MacPorts*.pkg \
        /Library/StartupItems/DarwinPortsStartup \
        /Library/Tcl/darwinports1.0 \
        /Library/Tcl/macports1.0 \
        ~/.macports
</code></pre>


<p>If you use a shell other than bash (perhaps tcsh), you may need to adjust the above to fit your shell&rsquo;s syntax. Also note that depending on which version of MacPorts you have and which ports you have installed, not all of the above paths will exist on your system. This is OK.</p>

    
  

    
    

    <a href="#macports-site.docs.installing.shell" class="h2">
      <h2>MacPorts and the Shell</h2>
      <span class="anchor-target" id="macports-site.docs.installing.shell"></span>
    </a>

    <p>MacPorts requires that some environment variables be set in the shell. When MacPorts is installed using the macOS package installer, a “postflight” script is run after installation that automatically adds or modifies a shell configuration file in your home directory, ensuring that it defines variables according to the rules described in the following section. Those <a href="https://guide.macports.org/#installing.macports.source">installing MacPorts from source code</a> must modify their environment manually using the rules as a guide.</p>

<p>Depending on your shell and which configuration files already exist, the installer may use <code class="docs-path">.profile</code>, <code class="docs-path">.bash_login</code>, <code class="docs-path">.bash_profile</code>, <code class="docs-path">.tcshrc</code>, or <code class="docs-path">.cshrc</code>.</p>

    
      <div class="doc-subsections">
  
  
  

    
    

    <a href="#macports-site.docs.installing.shell.postflight" class="h3">
      <h3>The Postflight Script</h3>
      <span class="anchor-target" id="macports-site.docs.installing.shell.postflight"></span>
    </a>

    <p>The postflight script automatically sets the <code>PATH</code> variable, and optionally the <code>MANPATH</code> and <code>DISPLAY</code> variables according to the rules described below. If a current shell configuration file exists at installation time it is renamed to “mpsaved_$timestamp”. Those i<a href="https://guide.macports.org/#installing.macports.source">nstalling MacPorts from source code</a> must modify their environment manually using the rules as a guide.</p>

<ul>
<li><p>Required: <code>PATH</code> variable</p>

<p>This variable is set by the postflight script to prepend the MacPorts executable paths to the current path as shown. This puts the MacPorts paths at the front of <code>PATH</code> so that the MacPorts binaries will take precedence over vendor-supplied binaries.
<pre class="docs-shell-content"><code>export PATH=/opt/local/bin:/opt/local/sbin:$PATH</code></pre></p></li>
</ul>

<blockquote>
<p>The user environment&rsquo;s <code>$PATH</code> is not in effect while ports are being installed, because the <code>$PATH</code> is scrubbed before ports are installed, and restored afterwards. To change the search path for locating system executables (rsync, tar, etc.) during port installation, see the <a href="https://guide.macports.org/#internals.configuration-files.macports-conf">macports.conf</a> file variable binpath. But changing this variable is for advanced users only, and is not generally needed or recommended.</p>
</blockquote>

<ul>
<li><p>Optional: <code>MANPATH</code> variable</p>

<p>Condition: If prior to MacPorts installation a <code>MANPATH</code> variable exists in a current <code class="docs-path">.profile</code> that contains neither the value <code class="docs-path">${prefix}/share/man</code>, nor any empty items separated by a colon, the postflight script sets the <code>MANPATH</code> variable as shown below. Otherwise, the <code>MANPATH</code> variable is omitted.</p></li>

<li><p>Optional: <code>DISPLAY</code> variable</p>

<p>Condition: If installing on a Mac OS X version earlier than 10.5 (Leopard), and if a shell configuration file exists at time of MacPorts installation without a <code>DISPLAY</code> variable, the postflight script sets a <code>DISPLAY</code> variable as shown below. The <code>DISPLAY</code> variable is always omitted on Mac OS X 10.5 or higher.
<pre class="docs-shell-content"><code>export DISPLAY=:0.0</code></pre></p></li>
</ul>

  

    
    

    <a href="#macports-site.docs.installing.shell.verifyprofile" class="h3">
      <h3>Verify the Configuration File</h3>
      <span class="anchor-target" id="macports-site.docs.installing.shell.verifyprofile"></span>
    </a>

    <p>To verify that the file containing the MacPorts variables is in effect, type <code class="docs-command">env</code> in the terminal to verify the current environment settings after the file has been created. Example output for <code class="docs-command">env</code> is shown below.</p>

<blockquote>
<p>Changes to shell configuration files do not take effect until a new terminal session is opened.</p>
</blockquote>

<pre class="docs-shell-out"><code>MANPATH=
TERM_PROGRAM=Apple_Terminal
TERM=xterm-color
SHELL=/bin/bash
TERM_PROGRAM_VERSION=237
USER=joebob
__CF_USER_TEXT_ENCODING=0x1FC:0:0
PATH=/opt/local/bin:/opt/local/sbin:/bin:/sbin:/usr/bin:/usr/sbin
PWD=/Users/joebob
EDITOR=/usr/bin/pico
SHLVL=1
HOME=/Users/joebob
LOGNAME=joebob
DISPLAY=:0.0
SECURITYSESSIONID=b0cea0
_=/usr/bin/env
</code></pre>


  

    
    

    <a href="#macports-site.docs.installing.shell.editorvar" class="h3">
      <h3>Optional Editor Variables</h3>
      <span class="anchor-target" id="macports-site.docs.installing.shell.editorvar"></span>
    </a>

    <p>You can set an environment variable in order to use your favorite text editor with the <code class="docs-command">port</code> edit command.</p>

<p>MacPorts will check <code>MP_EDITOR</code>, <code>VISUAL</code> and <code>EDITOR</code> in this order, allowing you to either use a default editor shared with other programs (<code>VISUAL</code> and <code>EDITOR</code>) or a MacPorts-specific one (`MP_EDITOR).</p>

<p>For example, to use the nano editor, add this line to your bash config:</p>

<pre class="docs-shell-content"><code>export EDITOR=/usr/bin/nano</code></pre>

<p>To use the user-friendly GUI editor <a href="https://www.barebones.com/products/bbedit/">BBEdit</a> (installation required), add this line:</p>

<pre class="docs-shell-content"><code>export EDITOR=/Applications/BBEdit.app/Contents/Helpers/bbedit_tool</code></pre>

<p>To keep a command-line text editor as default while using BBEdit with portfiles, add this:</p>

<p><pre class="docs-shell-content"><code>export EDITOR=/usr/bin/vi</code></pre>
<pre class="docs-shell-content"><code>export MP_EDITOR=/Applications/BBEdit.app/Contents/Helpers/bbedit_tool</code></pre></p>

  

</div>

    
  

</div>

    
  

    
    

    <a href="#macports-site.docs.using" class="h1">
      <h1>Using MacPorts</h1>
      <span class="anchor-target" id="macports-site.docs.using"></span>
    </a>

    
    
  

    
    

    <a href="#macports-site.docs.development" class="h1">
      <h1>Portfile Development</h1>
      <span class="anchor-target" id="macports-site.docs.development"></span>
    </a>

    
    
  

    
    

    <a href="#macports-site.docs.reference" class="h1">
      <h1>Portfile Reference</h1>
      <span class="anchor-target" id="macports-site.docs.reference"></span>
    </a>

    
    
  

    
    

    <a href="#macports-site.docs.internals" class="h1">
      <h1>MacPorts Internals</h1>
      <span class="anchor-target" id="macports-site.docs.internals"></span>
    </a>

    
    
  

    
    

    <a href="#macports-site.docs.guide-terms" class="h1">
      <h1>MacPorts Guide Glossary</h1>
      <span class="anchor-target" id="macports-site.docs.guide-terms"></span>
    </a>

    
    
  

    
    

    <a href="#macports-site.docs.project" class="h1">
      <h1>MacPorts Project</h1>
      <span class="anchor-target" id="macports-site.docs.project"></span>
    </a>

    
    
  

</div>

        </div>
      </div>
    </div>
  </main>


  <footer>
  <div class="container">

    <section class="links">
      <a href="https://github.com/macports/">Git Repository</a>
      <a href="https://trac.macports.org/wiki">MacPorts Wiki</a>
      <a href="https://trac.macports.org/wiki/MacPortsDevelopers">MacPorts Team</a>
    </section>
    <section>
      <div class="legal-copyright">
        Copyright © 2002–2019 <a href="https://www.macports.org/">The MacPorts Project</a>. All rights reserved.
      </div>

      <div class="link">
        Content delivery accelerated by <a href="https://www.stackpath.com/">StackPath</a>.
      </div>
    </section>
  </div>
</footer>



  </body>
</html>