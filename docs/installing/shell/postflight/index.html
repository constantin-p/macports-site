<!DOCTYPE html>
<html>
  <head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>The Postflight Script</title>

  
  <link rel="stylesheet" href="https://constantin-p.github.io/macports-site/css/main.css">

</head>
  <body>

    

  
<header class="">
  <nav class="container">

    <a class="brand" href="/" title="The MacPorts Project">
      
        <img src="/assets/logo.svg" height="22" alt="Mac Ports">
      
    </a>

    <label for="menu-toggle">Menu</label>
    <input type="checkbox" id="menu-toggle">
    <ul>
      
      
        
        <li class="">
          
            <a href="/macports-site/getting-started/">Getting Started</a>
          
        </li>
      
        
        <li class="">
          
            <a href="/macports-site/docs/">Documentation</a>
          
        </li>
      
        
        <li class="">
          
            <a href="https://www.macports.org/ports.php">Available ports</a>
          
        </li>
      
        
        <li class="">
          
            <a href="https://github.com/macports/macports-base/releases/tag/v2.5.4">Downloads</a>
          
        </li>
      
        
        <li class="has-sublist ">
          
            <a role="button" tabindex="0">Support</a>
            <div class="sublist">
              <ul class="container">
                
                  <li class="">
                    <a href="https://guide.macports.org/#project.tickets">Bug Reporting</a>
                  </li>
                
                  <li class="">
                    <a href="/macports-site/support/contact-us/">Contact Us</a>
                  </li>
                
                  <li class="">
                    <a href="https://trac.macports.org/wiki/MacPortsDevelopers">Team</a>
                  </li>
                
                  <li class="">
                    <a href="https://trac.macports.org/wiki/FAQ">FAQ</a>
                  </li>
                
              </ul>
            </div>
          
        </li>
      
        
        <li class="">
          
            <a href="/macports-site/news/">News</a>
          
        </li>
      
    </ul>
  </nav>
</header>


  <main>
    <div class="container">
      <h1>The Postflight Script</h1>
      <p>The postflight script automatically sets the <code>PATH</code> variable, and optionally the <code>MANPATH</code> and <code>DISPLAY</code> variables according to the rules described below. If a current shell configuration file exists at installation time it is renamed to “mpsaved_$timestamp”. Those i<a href="https://guide.macports.org/#installing.macports.source">nstalling MacPorts from source code</a> must modify their environment manually using the rules as a guide.</p>

<ul>
<li><p>Required: <code>PATH</code> variable</p>

<p>This variable is set by the postflight script to prepend the MacPorts executable paths to the current path as shown. This puts the MacPorts paths at the front of <code>PATH</code> so that the MacPorts binaries will take precedence over vendor-supplied binaries.
<pre class="docs-shell-content"><code>export PATH=/opt/local/bin:/opt/local/sbin:$PATH</code></pre></p></li>
</ul>

<blockquote>
<p>The user environment&rsquo;s <code>$PATH</code> is not in effect while ports are being installed, because the <code>$PATH</code> is scrubbed before ports are installed, and restored afterwards. To change the search path for locating system executables (rsync, tar, etc.) during port installation, see the <a href="https://guide.macports.org/#internals.configuration-files.macports-conf">macports.conf</a> file variable binpath. But changing this variable is for advanced users only, and is not generally needed or recommended.</p>
</blockquote>

<ul>
<li><p>Optional: <code>MANPATH</code> variable</p>

<p>Condition: If prior to MacPorts installation a <code>MANPATH</code> variable exists in a current <code class="docs-path">.profile</code> that contains neither the value <code class="docs-path">${prefix}/share/man</code>, nor any empty items separated by a colon, the postflight script sets the <code>MANPATH</code> variable as shown below. Otherwise, the <code>MANPATH</code> variable is omitted.</p></li>

<li><p>Optional: <code>DISPLAY</code> variable</p>

<p>Condition: If installing on a Mac OS X version earlier than 10.5 (Leopard), and if a shell configuration file exists at time of MacPorts installation without a <code>DISPLAY</code> variable, the postflight script sets a <code>DISPLAY</code> variable as shown below. The <code>DISPLAY</code> variable is always omitted on Mac OS X 10.5 or higher.
<pre class="docs-shell-content"><code>export DISPLAY=:0.0</code></pre></p></li>
</ul>


    </div>
  </main>


  <footer>
  <div class="container">

    <section class="links">
      <a href="https://github.com/macports/">Git Repository</a>
      <a href="https://trac.macports.org/wiki">MacPorts Wiki</a>
      <a href="https://trac.macports.org/wiki/MacPortsDevelopers">MacPorts Team</a>
    </section>
    <section>
      <div class="legal-copyright">
        Copyright © 2002–2019 <a href="https://www.macports.org/">The MacPorts Project</a>. All rights reserved.
      </div>

      <div class="link">
        Content delivery accelerated by <a href="https://www.stackpath.com/">StackPath</a>.
      </div>
    </section>
  </div>
</footer>



  </body>
</html>